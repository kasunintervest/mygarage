<div class="box box-primary">

  <!-- form start -->
  <%= form_with(model: [:admin, user], local: true) do |form| %>

      <% if user.errors.any? %>
          <div class="alert alert-danger alert-dismissible">
            <h4><%= pluralize(user.errors.count, 'error') %> prohibited this service type from being saved:</h4>

            <ul>
              <% user.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
              <% end %>
            </ul>
          </div>
      <% end %>


    <div class="box-body">
      <div class="form-group">
        <%= form.label :email %>
        <%= form.email_field :email,autocomplete: 'off', id: :user_email, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= form.label :first_name %>
        <%= form.text_field :first_name, autocomplete: 'off', id: :user_first_name, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= form.label :last_name %>
        <%= form.text_field :last_name, autocomplete: 'off', id: :user_last_name, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= form.label :role %>
        <% role =  user.roles.first.name if user.roles.first %>
        <%= form.select('role', Role.all.collect {|r| [h(r.name), r.name] }, {:selected => role}, class: 'form-control') %>
      </div>
      <div class="form-group">
        <%= form.label :password %>
        <%= form.password_field :password, autocomplete: 'off', id: :user_password, class: 'form-control' %>
      </div>
    </div>

    <div class="box-footer">
      <%= link_to 'Back', admin_users_path, class:'btn btn-default' %>
      <%= form.submit 'Save', :class => 'btn btn-primary' %>
    </div>
  <% end %>
</div>
